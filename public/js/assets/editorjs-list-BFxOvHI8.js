(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.cdx-list{margin:0;padding:0;outline:none;display:grid;counter-reset:item;gap:var(--spacing-s);padding:var(--spacing-xs);--spacing-s: 8px;--spacing-xs: 6px;--list-counter-type: numeric;--radius-border: 5px;--checkbox-background: #fff;--color-border: #C9C9C9;--color-bg-checked: #369FFF;--line-height: 1.45em;--color-bg-checked-hover: #0059AB;--color-tick: #fff;--size-checkbox: 1.2em}.cdx-list__item{line-height:var(--line-height);display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto;grid-template-areas:"checkbox content" ". child"}.cdx-list__item-children{display:grid;grid-area:child;gap:var(--spacing-s);padding-top:var(--spacing-s)}.cdx-list__item [contenteditable]{outline:none}.cdx-list__item-content{word-break:break-word;white-space:pre-wrap;grid-area:content;padding-left:var(--spacing-s)}.cdx-list__item:before{counter-increment:item;white-space:nowrap}.cdx-list-ordered .cdx-list__item:before{content:counters(item,".",var(--list-counter-type)) "."}.cdx-list-ordered{counter-reset:item}.cdx-list-unordered .cdx-list__item:before{content:"•"}.cdx-list-checklist .cdx-list__item:before{content:""}.cdx-list__settings .cdx-settings-button{width:50%}.cdx-list__checkbox{padding-top:calc((var(--line-height) - var(--size-checkbox)) / 2);grid-area:checkbox;width:var(--size-checkbox);height:var(--size-checkbox);display:flex;cursor:pointer}.cdx-list__checkbox svg{opacity:0;height:var(--size-checkbox);width:var(--size-checkbox);left:-1px;top:-1px;position:absolute}@media (hover: hover){.cdx-list__checkbox:not(.cdx-list__checkbox--no-hover):hover .cdx-list__checkbox-check svg{opacity:1}}.cdx-list__checkbox--checked{line-height:var(--line-height)}@media (hover: hover){.cdx-list__checkbox--checked:not(.cdx-list__checkbox--checked--no-hover):hover .cdx-checklist__checkbox-check{background:var(--color-bg-checked-hover);border-color:var(--color-bg-checked-hover)}}.cdx-list__checkbox--checked .cdx-list__checkbox-check{background:var(--color-bg-checked);border-color:var(--color-bg-checked)}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg{opacity:1}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg path{stroke:var(--color-tick)}.cdx-list__checkbox--checked .cdx-list__checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}.cdx-list__checkbox-check{cursor:pointer;display:inline-block;position:relative;margin:0 auto;width:var(--size-checkbox);height:var(--size-checkbox);box-sizing:border-box;border-radius:var(--radius-border);border:1px solid var(--color-border);background:var(--checkbox-background)}.cdx-list__checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:var(--color-bg-checked);visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}.cdx-list-start-with-field{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-list-start-with-field--invalid{background:#FFECED;border:1px solid #E13F3F}.cdx-list-start-with-field--invalid .cdx-list-start-with-field__input{color:#e13f3f}.cdx-list-start-with-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - var(--toolbox-buttons-size) - var(--icon-margin-right))}.cdx-list-start-with-field__input::placeholder{color:var(--grayText);font-weight:500}')),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const kt='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',Ne='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',Ae='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',Be='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',Ct='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 14.2L10 7.4135C10 7.32872 9.90111 7.28241 9.83598 7.33668L7 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',Ot='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 9.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 7.01L10 7" stroke="black" stroke-width="1.8" stroke-linecap="round"/></svg>',St='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 7.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',wt='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.0087 14.2H16" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M7 14.2L7.78865 12M13 14.2L12.1377 12M7.78865 12C7.78865 12 9.68362 7 10 7C10.3065 7 12.1377 12 12.1377 12M7.78865 12L12.1377 12" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',_t='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2087 14.2H14.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M11.5 14.5C11.5 14.5 11 13.281 11 12.5M7 9.5C7 9.5 7.5 8.5 9 8.5C10.5 8.5 11 9.5 11 10.5L11 11.5M11 11.5L11 12.5M11 11.5C11 11.5 7 11 7 13C7 15.3031 11 15 11 12.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',Et='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 14.2L8 7.4135C8 7.32872 7.90111 7.28241 7.83598 7.33668L5 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M14 13L16.4167 10.7778M16.4167 10.7778L14 8.5M16.4167 10.7778H11.6562" stroke="black" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>';var N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var u={},G={},V={};Object.defineProperty(V,"__esModule",{value:!0});V.allInputsSelector=Pt;function Pt(){var e=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+e.map(function(t){return'input[type="'.concat(t,'"]')}).join(", ")}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.allInputsSelector=void 0;var t=V;Object.defineProperty(e,"allInputsSelector",{enumerable:!0,get:function(){return t.allInputsSelector}})})(G);var S={},Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.isNativeInput=jt;function jt(e){var t=["INPUT","TEXTAREA"];return e&&e.tagName?t.includes(e.tagName):!1}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNativeInput=void 0;var t=Y;Object.defineProperty(e,"isNativeInput",{enumerable:!0,get:function(){return t.isNativeInput}})})(S);var He={},Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.append=Mt;function Mt(e,t){Array.isArray(t)?t.forEach(function(r){e.appendChild(r)}):e.appendChild(t)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.append=void 0;var t=Q;Object.defineProperty(e,"append",{enumerable:!0,get:function(){return t.append}})})(He);var Z={},J={};Object.defineProperty(J,"__esModule",{value:!0});J.blockElements=Tt;function Tt(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.blockElements=void 0;var t=J;Object.defineProperty(e,"blockElements",{enumerable:!0,get:function(){return t.blockElements}})})(Z);var Fe={},ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.calculateBaseline=It;function It(e){var t=window.getComputedStyle(e),r=parseFloat(t.fontSize),n=parseFloat(t.lineHeight)||r*1.2,i=parseFloat(t.paddingTop),o=parseFloat(t.borderTopWidth),a=parseFloat(t.marginTop),s=r*.8,l=(n-r)/2,d=a+o+i+l+s;return d}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateBaseline=void 0;var t=ee;Object.defineProperty(e,"calculateBaseline",{enumerable:!0,get:function(){return t.calculateBaseline}})})(Fe);var $e={},te={},re={},ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.isContentEditable=Lt;function Lt(e){return e.contentEditable==="true"}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isContentEditable=void 0;var t=ne;Object.defineProperty(e,"isContentEditable",{enumerable:!0,get:function(){return t.isContentEditable}})})(re);Object.defineProperty(te,"__esModule",{value:!0});te.canSetCaret=Bt;var Nt=S,At=re;function Bt(e){var t=!0;if((0,Nt.isNativeInput)(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1;break}else t=(0,At.isContentEditable)(e);return t}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.canSetCaret=void 0;var t=te;Object.defineProperty(e,"canSetCaret",{enumerable:!0,get:function(){return t.canSetCaret}})})($e);var A={},ie={};function Wt(e,t,r){const n=r.value!==void 0?"value":"get",i=r[n],o=`#${t}Cache`;if(r[n]=function(...a){return this[o]===void 0&&(this[o]=i.apply(this,a)),this[o]},n==="get"&&r.set){const a=r.set;r.set=function(s){delete e[o],a.apply(this,s)}}return r}function ze(){const e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find(r=>window.navigator.appVersion.toLowerCase().indexOf(r)!==-1);return t!==void 0&&(e[t]=!0),e}function oe(e){return e!=null&&e!==""&&(typeof e!="object"||Object.keys(e).length>0)}function Dt(e){return!oe(e)}const Rt=()=>typeof window<"u"&&window.navigator!==null&&oe(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function Ht(e){const t=ze();return e=e.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi,"+"),t.mac?e=e.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):e=e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),e}function Ft(e){return e[0].toUpperCase()+e.slice(1)}function $t(e){const t=document.createElement("div");t.style.position="absolute",t.style.left="-999px",t.style.bottom="-999px",t.innerHTML=e,document.body.appendChild(t);const r=window.getSelection(),n=document.createRange();if(n.selectNode(t),r===null)throw new Error("Cannot copy text to clipboard");r.removeAllRanges(),r.addRange(n),document.execCommand("copy"),document.body.removeChild(t)}function zt(e,t,r){let n;return(...i)=>{const o=this,a=()=>{n=void 0,r!==!0&&e.apply(o,i)},s=r===!0&&n!==void 0;window.clearTimeout(n),n=window.setTimeout(a,t),s&&e.apply(o,i)}}function k(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Ut(e){return k(e)==="boolean"}function Ue(e){return k(e)==="function"||k(e)==="asyncfunction"}function qt(e){return Ue(e)&&/^\s*class\s+/.test(e.toString())}function Kt(e){return k(e)==="number"}function I(e){return k(e)==="object"}function Xt(e){return Promise.resolve(e)===e}function Gt(e){return k(e)==="string"}function Vt(e){return k(e)==="undefined"}function K(e,...t){if(!t.length)return e;const r=t.shift();if(I(e)&&I(r))for(const n in r)I(r[n])?(e[n]===void 0&&Object.assign(e,{[n]:{}}),K(e[n],r[n])):Object.assign(e,{[n]:r[n]});return K(e,...t)}function Yt(e,t,r){const n=`«${t}» is deprecated and will be removed in the next major release. Please use the «${r}» instead.`;e&&console.warn(n)}function Qt(e){try{return new URL(e).href}catch{}return e.substring(0,2)==="//"?window.location.protocol+e:window.location.origin+e}function Zt(e){return e>47&&e<58||e===32||e===13||e===229||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223}const Jt={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},er={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class tr{constructor(){this.completed=Promise.resolve()}add(t){return new Promise((r,n)=>{this.completed=this.completed.then(t).then(r).catch(n)})}}function rr(e,t,r=void 0){let n,i,o,a=null,s=0;r||(r={});const l=function(){s=r.leading===!1?0:Date.now(),a=null,o=e.apply(n,i),a===null&&(n=i=null)};return function(){const d=Date.now();!s&&r.leading===!1&&(s=d);const c=t-(d-s);return n=this,i=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),s=d,o=e.apply(n,i),a===null&&(n=i=null)):!a&&r.trailing!==!1&&(a=setTimeout(l,c)),o}}const nr=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:tr,beautifyShortcut:Ht,cacheable:Wt,capitalize:Ft,copyTextToClipboard:$t,debounce:zt,deepMerge:K,deprecationAssert:Yt,getUserOS:ze,getValidUrl:Qt,isBoolean:Ut,isClass:qt,isEmpty:Dt,isFunction:Ue,isIosDevice:Rt,isNumber:Kt,isObject:I,isPrintableKey:Zt,isPromise:Xt,isString:Gt,isUndefined:Vt,keyCodes:Jt,mouseButtons:er,notEmpty:oe,throttle:rr,typeOf:k},Symbol.toStringTag,{value:"Module"})),ae=xt(nr);Object.defineProperty(ie,"__esModule",{value:!0});ie.containsOnlyInlineElements=ar;var ir=ae,or=Z;function ar(e){var t;(0,ir.isString)(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;var r=function(n){return!(0,or.blockElements)().includes(n.tagName.toLowerCase())&&Array.from(n.children).every(r)};return Array.from(t.children).every(r)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.containsOnlyInlineElements=void 0;var t=ie;Object.defineProperty(e,"containsOnlyInlineElements",{enumerable:!0,get:function(){return t.containsOnlyInlineElements}})})(A);var qe={},se={},B={},le={};Object.defineProperty(le,"__esModule",{value:!0});le.make=sr;function sr(e,t,r){var n;t===void 0&&(t=null),r===void 0&&(r={});var i=document.createElement(e);if(Array.isArray(t)){var o=t.filter(function(s){return s!==void 0});(n=i.classList).add.apply(n,o)}else t!==null&&i.classList.add(t);for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a]);return i}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.make=void 0;var t=le;Object.defineProperty(e,"make",{enumerable:!0,get:function(){return t.make}})})(B);Object.defineProperty(se,"__esModule",{value:!0});se.fragmentToString=cr;var lr=B;function cr(e){var t=(0,lr.make)("div");return t.appendChild(e),t.innerHTML}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fragmentToString=void 0;var t=se;Object.defineProperty(e,"fragmentToString",{enumerable:!0,get:function(){return t.fragmentToString}})})(qe);var Ke={},ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.getContentLength=dr;var ur=S;function dr(e){var t,r;return(0,ur.isNativeInput)(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:(r=(t=e.textContent)===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getContentLength=void 0;var t=ce;Object.defineProperty(e,"getContentLength",{enumerable:!0,get:function(){return t.getContentLength}})})(Ke);var ue={},de={},We=N&&N.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(de,"__esModule",{value:!0});de.getDeepestBlockElements=Xe;var pr=A;function Xe(e){return(0,pr.containsOnlyInlineElements)(e)?[e]:Array.from(e.children).reduce(function(t,r){return We(We([],t,!0),Xe(r),!0)},[])}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepestBlockElements=void 0;var t=de;Object.defineProperty(e,"getDeepestBlockElements",{enumerable:!0,get:function(){return t.getDeepestBlockElements}})})(ue);var Ge={},pe={},W={},fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.isLineBreakTag=fr;function fr(e){return["BR","WBR"].includes(e.tagName)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLineBreakTag=void 0;var t=fe;Object.defineProperty(e,"isLineBreakTag",{enumerable:!0,get:function(){return t.isLineBreakTag}})})(W);var D={},he={};Object.defineProperty(he,"__esModule",{value:!0});he.isSingleTag=hr;function hr(e){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSingleTag=void 0;var t=he;Object.defineProperty(e,"isSingleTag",{enumerable:!0,get:function(){return t.isSingleTag}})})(D);Object.defineProperty(pe,"__esModule",{value:!0});pe.getDeepestNode=Ve;var gr=S,mr=W,vr=D;function Ve(e,t){t===void 0&&(t=!1);var r=t?"lastChild":"firstChild",n=t?"previousSibling":"nextSibling";if(e.nodeType===Node.ELEMENT_NODE&&e[r]){var i=e[r];if((0,vr.isSingleTag)(i)&&!(0,gr.isNativeInput)(i)&&!(0,mr.isLineBreakTag)(i))if(i[n])i=i[n];else if(i.parentNode!==null&&i.parentNode[n])i=i.parentNode[n];else return i.parentNode;return Ve(i,t)}return e}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getDeepestNode=void 0;var t=pe;Object.defineProperty(e,"getDeepestNode",{enumerable:!0,get:function(){return t.getDeepestNode}})})(Ge);var Ye={},ge={},M=N&&N.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(ge,"__esModule",{value:!0});ge.findAllInputs=Or;var br=A,yr=ue,kr=G,Cr=S;function Or(e){return Array.from(e.querySelectorAll((0,kr.allInputsSelector)())).reduce(function(t,r){return(0,Cr.isNativeInput)(r)||(0,br.containsOnlyInlineElements)(r)?M(M([],t,!0),[r],!1):M(M([],t,!0),(0,yr.getDeepestBlockElements)(r),!0)},[])}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.findAllInputs=void 0;var t=ge;Object.defineProperty(e,"findAllInputs",{enumerable:!0,get:function(){return t.findAllInputs}})})(Ye);var Qe={},me={};Object.defineProperty(me,"__esModule",{value:!0});me.isCollapsedWhitespaces=Sr;function Sr(e){return!/[^\t\n\r ]/.test(e)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCollapsedWhitespaces=void 0;var t=me;Object.defineProperty(e,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return t.isCollapsedWhitespaces}})})(Qe);var ve={},be={};Object.defineProperty(be,"__esModule",{value:!0});be.isElement=_r;var wr=ae;function _r(e){return(0,wr.isNumber)(e)?!1:!!e&&!!e.nodeType&&e.nodeType===Node.ELEMENT_NODE}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isElement=void 0;var t=be;Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return t.isElement}})})(ve);var Ze={},ye={},ke={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.isLeaf=Er;function Er(e){return e===null?!1:e.childNodes.length===0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLeaf=void 0;var t=Ce;Object.defineProperty(e,"isLeaf",{enumerable:!0,get:function(){return t.isLeaf}})})(ke);var Oe={},Se={};Object.defineProperty(Se,"__esModule",{value:!0});Se.isNodeEmpty=Tr;var xr=W,Pr=ve,jr=S,Mr=D;function Tr(e,t){var r="";return(0,Mr.isSingleTag)(e)&&!(0,xr.isLineBreakTag)(e)?!1:((0,Pr.isElement)(e)&&(0,jr.isNativeInput)(e)?r=e.value:e.textContent!==null&&(r=e.textContent.replace("​","")),t!==void 0&&(r=r.replace(new RegExp(t,"g"),"")),r.trim().length===0)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeEmpty=void 0;var t=Se;Object.defineProperty(e,"isNodeEmpty",{enumerable:!0,get:function(){return t.isNodeEmpty}})})(Oe);Object.defineProperty(ye,"__esModule",{value:!0});ye.isEmpty=Nr;var Ir=ke,Lr=Oe;function Nr(e,t){e.normalize();for(var r=[e];r.length>0;){var n=r.shift();if(n){if(e=n,(0,Ir.isLeaf)(e)&&!(0,Lr.isNodeEmpty)(e,t))return!1;r.push.apply(r,Array.from(e.childNodes))}}return!0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=void 0;var t=ye;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return t.isEmpty}})})(Ze);var Je={},we={};Object.defineProperty(we,"__esModule",{value:!0});we.isFragment=Br;var Ar=ae;function Br(e){return(0,Ar.isNumber)(e)?!1:!!e&&!!e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isFragment=void 0;var t=we;Object.defineProperty(e,"isFragment",{enumerable:!0,get:function(){return t.isFragment}})})(Je);var et={},_e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.isHTMLString=Dr;var Wr=B;function Dr(e){var t=(0,Wr.make)("div");return t.innerHTML=e,t.childElementCount>0}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHTMLString=void 0;var t=_e;Object.defineProperty(e,"isHTMLString",{enumerable:!0,get:function(){return t.isHTMLString}})})(et);var tt={},Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.offset=Rr;function Rr(e){var t=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop,i=t.top+n,o=t.left+r;return{top:i,left:o,bottom:i+t.height,right:o+t.width}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.offset=void 0;var t=Ee;Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return t.offset}})})(tt);var rt={},xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.prepend=Hr;function Hr(e,t){Array.isArray(t)?(t=t.reverse(),t.forEach(function(r){return e.prepend(r)})):e.prepend(t)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=void 0;var t=xe;Object.defineProperty(e,"prepend",{enumerable:!0,get:function(){return t.prepend}})})(rt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.prepend=e.offset=e.make=e.isLineBreakTag=e.isSingleTag=e.isNodeEmpty=e.isLeaf=e.isHTMLString=e.isFragment=e.isEmpty=e.isElement=e.isContentEditable=e.isCollapsedWhitespaces=e.findAllInputs=e.isNativeInput=e.allInputsSelector=e.getDeepestNode=e.getDeepestBlockElements=e.getContentLength=e.fragmentToString=e.containsOnlyInlineElements=e.canSetCaret=e.calculateBaseline=e.blockElements=e.append=void 0;var t=G;Object.defineProperty(e,"allInputsSelector",{enumerable:!0,get:function(){return t.allInputsSelector}});var r=S;Object.defineProperty(e,"isNativeInput",{enumerable:!0,get:function(){return r.isNativeInput}});var n=He;Object.defineProperty(e,"append",{enumerable:!0,get:function(){return n.append}});var i=Z;Object.defineProperty(e,"blockElements",{enumerable:!0,get:function(){return i.blockElements}});var o=Fe;Object.defineProperty(e,"calculateBaseline",{enumerable:!0,get:function(){return o.calculateBaseline}});var a=$e;Object.defineProperty(e,"canSetCaret",{enumerable:!0,get:function(){return a.canSetCaret}});var s=A;Object.defineProperty(e,"containsOnlyInlineElements",{enumerable:!0,get:function(){return s.containsOnlyInlineElements}});var l=qe;Object.defineProperty(e,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var d=Ke;Object.defineProperty(e,"getContentLength",{enumerable:!0,get:function(){return d.getContentLength}});var c=ue;Object.defineProperty(e,"getDeepestBlockElements",{enumerable:!0,get:function(){return c.getDeepestBlockElements}});var h=Ge;Object.defineProperty(e,"getDeepestNode",{enumerable:!0,get:function(){return h.getDeepestNode}});var C=Ye;Object.defineProperty(e,"findAllInputs",{enumerable:!0,get:function(){return C.findAllInputs}});var x=Qe;Object.defineProperty(e,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return x.isCollapsedWhitespaces}});var w=re;Object.defineProperty(e,"isContentEditable",{enumerable:!0,get:function(){return w.isContentEditable}});var ct=ve;Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return ct.isElement}});var ut=Ze;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return ut.isEmpty}});var dt=Je;Object.defineProperty(e,"isFragment",{enumerable:!0,get:function(){return dt.isFragment}});var pt=et;Object.defineProperty(e,"isHTMLString",{enumerable:!0,get:function(){return pt.isHTMLString}});var ft=ke;Object.defineProperty(e,"isLeaf",{enumerable:!0,get:function(){return ft.isLeaf}});var ht=Oe;Object.defineProperty(e,"isNodeEmpty",{enumerable:!0,get:function(){return ht.isNodeEmpty}});var gt=W;Object.defineProperty(e,"isLineBreakTag",{enumerable:!0,get:function(){return gt.isLineBreakTag}});var mt=D;Object.defineProperty(e,"isSingleTag",{enumerable:!0,get:function(){return mt.isSingleTag}});var vt=B;Object.defineProperty(e,"make",{enumerable:!0,get:function(){return vt.make}});var bt=tt;Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return bt.offset}});var yt=rt;Object.defineProperty(e,"prepend",{enumerable:!0,get:function(){return yt.prepend}})})(u);const g="cdx-list",f={wrapper:g,item:`${g}__item`,itemContent:`${g}__item-content`,itemChildren:`${g}__item-children`};class m{static get CSS(){return{...f,orderedList:`${g}-ordered`}}constructor(t,r){this.config=r,this.readOnly=t}renderWrapper(t){let r;return t===!0?r=u.make("ol",[m.CSS.wrapper,m.CSS.orderedList]):r=u.make("ol",[m.CSS.orderedList,m.CSS.itemChildren]),r}renderItem(t,r){const n=u.make("li",m.CSS.item),i=u.make("div",m.CSS.itemContent,{innerHTML:t,contentEditable:(!this.readOnly).toString()});return n.appendChild(i),n}getItemContent(t){const r=t.querySelector(`.${m.CSS.itemContent}`);return!r||u.isEmpty(r)?"":r.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}class v{static get CSS(){return{...f,unorderedList:`${g}-unordered`}}constructor(t,r){this.config=r,this.readOnly=t}renderWrapper(t){let r;return t===!0?r=u.make("ul",[v.CSS.wrapper,v.CSS.unorderedList]):r=u.make("ul",[v.CSS.unorderedList,v.CSS.itemChildren]),r}renderItem(t,r){const n=u.make("li",v.CSS.item),i=u.make("div",v.CSS.itemContent,{innerHTML:t,contentEditable:(!this.readOnly).toString()});return n.appendChild(i),n}getItemContent(t){const r=t.querySelector(`.${v.CSS.itemContent}`);return!r||u.isEmpty(r)?"":r.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}function O(e){return e.nodeType===Node.ELEMENT_NODE}var j={},Pe={},R={},H={};Object.defineProperty(H,"__esModule",{value:!0});H.getContenteditableSlice=$r;var Fr=u;function $r(e,t,r,n,i){var o;i===void 0&&(i=!1);var a=document.createRange();if(n==="left"?(a.setStart(e,0),a.setEnd(t,r)):(a.setStart(t,r),a.setEnd(e,e.childNodes.length)),i===!0){var s=a.extractContents();return(0,Fr.fragmentToString)(s)}var l=a.cloneContents(),d=document.createElement("div");d.appendChild(l);var c=(o=d.textContent)!==null&&o!==void 0?o:"";return c}Object.defineProperty(R,"__esModule",{value:!0});R.checkContenteditableSliceForEmptiness=qr;var zr=u,Ur=H;function qr(e,t,r,n){var i=(0,Ur.getContenteditableSlice)(e,t,r,n);return(0,zr.isCollapsedWhitespaces)(i)}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkContenteditableSliceForEmptiness=void 0;var t=R;Object.defineProperty(e,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return t.checkContenteditableSliceForEmptiness}})})(Pe);var nt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getContenteditableSlice=void 0;var t=H;Object.defineProperty(e,"getContenteditableSlice",{enumerable:!0,get:function(){return t.getContenteditableSlice}})})(nt);var it={},je={};Object.defineProperty(je,"__esModule",{value:!0});je.focus=Xr;var Kr=u;function Xr(e,t){var r,n;if(t===void 0&&(t=!0),(0,Kr.isNativeInput)(e)){e.focus();var i=t?0:e.value.length;e.setSelectionRange(i,i)}else{var o=document.createRange(),a=window.getSelection();if(!a)return;var s=function(C,x){x===void 0&&(x=!1);var w=document.createTextNode("");x?C.insertBefore(w,C.firstChild):C.appendChild(w),o.setStart(w,0),o.setEnd(w,0)},l=function(C){return C!=null},d=e.childNodes,c=t?d[0]:d[d.length-1];if(l(c)){for(;l(c)&&c.nodeType!==Node.TEXT_NODE;)c=t?c.firstChild:c.lastChild;if(l(c)&&c.nodeType===Node.TEXT_NODE){var h=(n=(r=c.textContent)===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0,i=t?0:h;o.setStart(c,i),o.setEnd(c,i)}else s(e,t)}else s(e);a.removeAllRanges(),a.addRange(o)}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.focus=void 0;var t=je;Object.defineProperty(e,"focus",{enumerable:!0,get:function(){return t.focus}})})(it);var Me={},F={};Object.defineProperty(F,"__esModule",{value:!0});F.getCaretNodeAndOffset=Gr;function Gr(){var e=window.getSelection();if(e===null)return[null,0];var t=e.focusNode,r=e.focusOffset;return t===null?[null,0]:(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length>0&&(t.childNodes[r]!==void 0?(t=t.childNodes[r],r=0):(t=t.childNodes[r-1],t.textContent!==null&&(r=t.textContent.length))),[t,r])}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getCaretNodeAndOffset=void 0;var t=F;Object.defineProperty(e,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return t.getCaretNodeAndOffset}})})(Me);var ot={},$={};Object.defineProperty($,"__esModule",{value:!0});$.getRange=Vr;function Vr(){var e=window.getSelection();return e&&e.rangeCount?e.getRangeAt(0):null}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getRange=void 0;var t=$;Object.defineProperty(e,"getRange",{enumerable:!0,get:function(){return t.getRange}})})(ot);var at={},Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.isCaretAtEndOfInput=Zr;var De=u,Yr=Me,Qr=Pe;function Zr(e){var t=(0,De.getDeepestNode)(e,!0);if(t===null)return!0;if((0,De.isNativeInput)(t))return t.selectionEnd===t.value.length;var r=(0,Yr.getCaretNodeAndOffset)(),n=r[0],i=r[1];return n===null?!1:(0,Qr.checkContenteditableSliceForEmptiness)(e,n,i,"right")}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCaretAtEndOfInput=void 0;var t=Te;Object.defineProperty(e,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return t.isCaretAtEndOfInput}})})(at);var st={},Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.isCaretAtStartOfInput=tn;var T=u,Jr=F,en=R;function tn(e){var t=(0,T.getDeepestNode)(e);if(t===null||(0,T.isEmpty)(e))return!0;if((0,T.isNativeInput)(t))return t.selectionEnd===0;if((0,T.isEmpty)(e))return!0;var r=(0,Jr.getCaretNodeAndOffset)(),n=r[0],i=r[1];return n===null?!1:(0,en.checkContenteditableSliceForEmptiness)(e,n,i,"left")}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isCaretAtStartOfInput=void 0;var t=Ie;Object.defineProperty(e,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return t.isCaretAtStartOfInput}})})(st);var lt={},Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.save=on;var rn=u,nn=$;function on(){var e=(0,nn.getRange)(),t=(0,rn.make)("span");if(t.id="cursor",t.hidden=!0,!!e)return e.insertNode(t),function(){var r=window.getSelection();r&&(e.setStartAfter(t),e.setEndAfter(t),r.removeAllRanges(),r.addRange(e),setTimeout(function(){t.remove()},150))}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.save=void 0;var t=Le;Object.defineProperty(e,"save",{enumerable:!0,get:function(){return t.save}})})(lt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.save=e.isCaretAtStartOfInput=e.isCaretAtEndOfInput=e.getRange=e.getCaretNodeAndOffset=e.focus=e.getContenteditableSlice=e.checkContenteditableSliceForEmptiness=void 0;var t=Pe;Object.defineProperty(e,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return t.checkContenteditableSliceForEmptiness}});var r=nt;Object.defineProperty(e,"getContenteditableSlice",{enumerable:!0,get:function(){return r.getContenteditableSlice}});var n=it;Object.defineProperty(e,"focus",{enumerable:!0,get:function(){return n.focus}});var i=Me;Object.defineProperty(e,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return i.getCaretNodeAndOffset}});var o=ot;Object.defineProperty(e,"getRange",{enumerable:!0,get:function(){return o.getRange}});var a=at;Object.defineProperty(e,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return a.isCaretAtEndOfInput}});var s=st;Object.defineProperty(e,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return s.isCaretAtStartOfInput}});var l=lt;Object.defineProperty(e,"save",{enumerable:!0,get:function(){return l.save}})})(j);class p{static get CSS(){return{...f,checklist:`${g}-checklist`,itemChecked:`${g}__checkbox--checked`,noHover:`${g}__checkbox--no-hover`,checkbox:`${g}__checkbox-check`,checkboxContainer:`${g}__checkbox`}}constructor(t,r){this.config=r,this.readOnly=t}renderWrapper(t){let r;return t===!0?(r=u.make("ul",[p.CSS.wrapper,p.CSS.checklist]),r.addEventListener("click",n=>{const i=n.target;if(i){const o=i.closest(`.${p.CSS.checkboxContainer}`);o&&o.contains(i)&&this.toggleCheckbox(o)}})):r=u.make("ul",[p.CSS.checklist,p.CSS.itemChildren]),r}renderItem(t,r){const n=u.make("li",[p.CSS.item,p.CSS.item]),i=u.make("div",p.CSS.itemContent,{innerHTML:t,contentEditable:(!this.readOnly).toString()}),o=u.make("span",p.CSS.checkbox),a=u.make("div",p.CSS.checkboxContainer);return r.checked===!0&&a.classList.add(p.CSS.itemChecked),o.innerHTML=kt,a.appendChild(o),n.appendChild(a),n.appendChild(i),n}getItemContent(t){const r=t.querySelector(`.${p.CSS.itemContent}`);return!r||u.isEmpty(r)?"":r.innerHTML}getItemMeta(t){const r=t.querySelector(`.${p.CSS.checkboxContainer}`);return{checked:r?r.classList.contains(p.CSS.itemChecked):!1}}composeDefaultMeta(){return{checked:!1}}toggleCheckbox(t){t.classList.toggle(p.CSS.itemChecked),t.classList.add(p.CSS.noHover),t.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(t),{once:!0})}removeSpecialHoverBehavior(t){t.classList.remove(p.CSS.noHover)}}function z(e,t="after"){const r=[];let n;function i(o){switch(t){case"after":return o.nextElementSibling;case"before":return o.previousElementSibling}}for(n=i(e);n!==null;)r.push(n),n=i(n);return r.length!==0?r:null}function b(e,t=!0){let r=e;return e.classList.contains(f.item)&&(r=e.querySelector(`.${f.itemChildren}`)),r===null?[]:t?Array.from(r.querySelectorAll(`:scope > .${f.item}`)):Array.from(r.querySelectorAll(`.${f.item}`))}function an(e){return e.nextElementSibling===null}function sn(e){return e.querySelector(`.${f.itemChildren}`)!==null}function y(e){return e.querySelector(`.${f.itemChildren}`)}function U(e){let t=e;e.classList.contains(f.item)&&(t=y(e)),t!==null&&b(t).length===0&&t.remove()}function L(e){return e.querySelector(`.${f.itemContent}`)}function _(e,t=!0){const r=L(e);r&&j.focus(r,t)}class q{get currentItem(){const t=window.getSelection();if(!t)return null;let r=t.anchorNode;return!r||(O(r)||(r=r.parentNode),!r)||!O(r)?null:r.closest(`.${f.item}`)}get currentItemLevel(){const t=this.currentItem;if(t===null)return null;let r=t.parentNode,n=0;for(;r!==null&&r!==this.listWrapper;)O(r)&&r.classList.contains(f.item)&&(n+=1),r=r.parentNode;return n+1}constructor({data:t,config:r,api:n,readOnly:i,block:o},a){this.config=r,this.data=t,this.readOnly=i,this.api=n,this.block=o,this.renderer=a}render(){return this.listWrapper=this.renderer.renderWrapper(!0),this.data.items.length?this.appendItems(this.data.items,this.listWrapper):this.appendItems([{content:"",meta:{},items:[]}],this.listWrapper),this.readOnly||this.listWrapper.addEventListener("keydown",t=>{switch(t.key){case"Enter":t.shiftKey||this.enterPressed(t);break;case"Backspace":this.backspace(t);break;case"Tab":t.shiftKey?this.shiftTab(t):this.addTab(t);break}},!1),"start"in this.data.meta&&this.data.meta.start!==void 0&&this.changeStartWith(this.data.meta.start),"counterType"in this.data.meta&&this.data.meta.counterType!==void 0&&this.changeCounters(this.data.meta.counterType),this.listWrapper}save(t){const r=t??this.listWrapper,n=a=>b(a).map(s=>{const l=y(s),d=this.renderer.getItemContent(s),c=this.renderer.getItemMeta(s),h=l?n(l):[];return{content:d,meta:c,items:h}}),i=r?n(r):[];let o={style:this.data.style,meta:{},items:i};return this.data.style==="ordered"&&(o.meta={start:this.data.meta.start,counterType:this.data.meta.counterType}),o}static get pasteConfig(){return{tags:["OL","UL","LI"]}}merge(t){const r=this.block.holder.querySelectorAll(`.${f.item}`),n=r[r.length-1],i=L(n);if(n===null||i===null||(i.insertAdjacentHTML("beforeend",t.items[0].content),this.listWrapper===void 0))return;const o=b(this.listWrapper);if(o.length===0)return;const a=o[o.length-1];let s=y(a);const l=t.items.shift();l!==void 0&&(l.items.length!==0&&(s===null&&(s=this.renderer.renderWrapper(!1)),this.appendItems(l.items,s)),t.items.length>0&&this.appendItems(t.items,this.listWrapper))}onPaste(t){const r=t.detail.data;this.data=this.pasteHandler(r);const n=this.listWrapper;n&&n.parentNode&&n.parentNode.replaceChild(this.render(),n)}pasteHandler(t){const{tagName:r}=t;let n="unordered",i;switch(r){case"OL":n="ordered",i="ol";break;case"UL":case"LI":n="unordered",i="ul"}const o={style:n,meta:{},items:[]};n==="ordered"&&(this.data.meta.counterType="numeric",this.data.meta.start=1);const a=s=>Array.from(s.querySelectorAll(":scope > li")).map(l=>{const d=l.querySelector(`:scope > ${i}`),c=d?a(d):[];return{content:l.innerHTML??"",meta:{},items:c}});return o.items=a(t),o}changeStartWith(t){this.listWrapper.style.setProperty("counter-reset",`item ${t-1}`),this.data.meta.start=t}changeCounters(t){this.listWrapper.style.setProperty("--list-counter-type",t),this.data.meta.counterType=t}enterPressed(t){var r;const n=this.currentItem;if(t.stopPropagation(),t.preventDefault(),t.isComposing||n===null)return;const i=((r=this.renderer)==null?void 0:r.getItemContent(n).trim().length)===0,o=n.parentNode===this.listWrapper,a=n.previousElementSibling===null,s=this.api.blocks.getCurrentBlockIndex();if(o&&i)if(an(n)&&!sn(n)){a?this.convertItemToDefaultBlock(s,!0):this.convertItemToDefaultBlock();return}else{this.splitList(n);return}else if(i){this.unshiftItem(n);return}else this.splitItem(n)}backspace(t){var r;const n=this.currentItem;if(n!==null&&j.isCaretAtStartOfInput(n)&&((r=window.getSelection())==null?void 0:r.isCollapsed)!==!1){if(t.stopPropagation(),n.parentNode===this.listWrapper&&n.previousElementSibling===null){this.convertFirstItemToDefaultBlock();return}t.preventDefault(),this.mergeItemWithPrevious(n)}}shiftTab(t){t.stopPropagation(),t.preventDefault(),this.currentItem!==null&&this.unshiftItem(this.currentItem)}unshiftItem(t){if(!t.parentNode||!O(t.parentNode))return;const r=t.parentNode.closest(`.${f.item}`);if(!r)return;let n=y(t);if(t.parentElement===null)return;const i=z(t);i!==null&&(n===null&&(n=this.renderer.renderWrapper(!1)),i.forEach(o=>{n.appendChild(o)}),t.appendChild(n)),r.after(t),_(t,!1),U(r)}splitList(t){const r=b(t),n=this.block,i=this.api.blocks.getCurrentBlockIndex();if(r.length!==0){const l=r[0];this.unshiftItem(l),_(t,!1)}if(t.previousElementSibling===null&&t.parentNode===this.listWrapper){this.convertItemToDefaultBlock(i);return}const o=z(t);if(o===null)return;const a=this.renderer.renderWrapper(!0);o.forEach(l=>{a.appendChild(l)});const s=this.save(a);s.meta.start=this.data.style=="ordered"?1:void 0,this.api.blocks.insert(n==null?void 0:n.name,s,this.config,i+1),this.convertItemToDefaultBlock(i+1),a.remove()}splitItem(t){const[r,n]=j.getCaretNodeAndOffset();if(r===null)return;const i=L(t);let o;i===null?o="":o=j.getContenteditableSlice(i,r,n,"right",!0);const a=y(t),s=this.renderItem(o);t==null||t.after(s),a&&s.appendChild(a),_(s)}mergeItemWithPrevious(t){const r=t.previousElementSibling,n=t.parentNode;if(n===null||!O(n))return;const i=n.closest(`.${f.item}`);if(!r&&!i||r&&!O(r))return;let o;if(r){const h=b(r,!1);h.length!==0&&h.length!==0?o=h[h.length-1]:o=r}else o=i;const a=this.renderer.getItemContent(t);if(!o)return;_(o,!1);const s=L(o);if(s===null)return;s.insertAdjacentHTML("beforeend",a);const l=b(t);if(l.length===0){t.remove(),U(o);return}const d=r||i,c=y(d)??this.renderer.renderWrapper(!1);r?l.forEach(h=>{c.appendChild(h)}):l.forEach(h=>{c.prepend(h)}),y(d)===null&&o.appendChild(c),t.remove()}addTab(t){var r;t.stopPropagation(),t.preventDefault();const n=this.currentItem;if(!n)return;if(((r=this.config)==null?void 0:r.maxLevel)!==void 0){const a=this.currentItemLevel;if(a!==null&&a===this.config.maxLevel)return}const i=n.previousSibling;if(i===null||!O(i))return;const o=y(i);if(o)o.appendChild(n),b(n).forEach(a=>{o.appendChild(a)});else{const a=this.renderer.renderWrapper(!1);a.appendChild(n),b(n).forEach(s=>{a.appendChild(s)}),i.appendChild(a)}U(n),_(n,!1)}convertItemToDefaultBlock(t,r){let n;const i=this.currentItem,o=i!==null?this.renderer.getItemContent(i):"";r===!0&&this.api.blocks.delete(),t!==void 0?n=this.api.blocks.insert(void 0,{text:o},void 0,t):n=this.api.blocks.insert(),i==null||i.remove(),this.api.caret.setToBlock(n,"start")}convertFirstItemToDefaultBlock(){const t=this.currentItem;if(t===null)return;const r=b(t);if(r.length!==0){const a=r[0];this.unshiftItem(a),_(t)}const n=z(t),i=this.api.blocks.getCurrentBlockIndex(),o=n===null;this.convertItemToDefaultBlock(i,o)}renderItem(t,r){const n=r??this.renderer.composeDefaultMeta();switch(!0){case this.renderer instanceof m:return this.renderer.renderItem(t,n);case this.renderer instanceof v:return this.renderer.renderItem(t,n);default:return this.renderer.renderItem(t,n)}}appendItems(t,r){t.forEach(n=>{var i;const o=this.renderItem(n.content,n.meta);if(r.appendChild(o),n.items.length){const a=(i=this.renderer)==null?void 0:i.renderWrapper(!1);this.appendItems(n.items,a),o.appendChild(a)}})}}const E={wrapper:`${g}-start-with-field`,input:`${g}-start-with-field__input`,startWithElementWrapperInvalid:`${g}-start-with-field--invalid`};function ln(e,{value:t,placeholder:r,attributes:n,sanitize:i}){const o=u.make("div",E.wrapper),a=u.make("input",E.input,{placeholder:r,tabIndex:-1,value:t});for(const s in n)a.setAttribute(s,n[s]);return o.appendChild(a),a.addEventListener("input",()=>{i!==void 0&&(a.value=i(a.value));const s=a.checkValidity();!s&&!o.classList.contains(E.startWithElementWrapperInvalid)&&o.classList.add(E.startWithElementWrapperInvalid),s&&o.classList.contains(E.startWithElementWrapperInvalid)&&o.classList.remove(E.startWithElementWrapperInvalid),s&&e(a.value)}),o}const P=new Map([["Numeric","numeric"],["Lower Roman","lower-roman"],["Upper Roman","upper-roman"],["Lower Alpha","lower-alpha"],["Upper Alpha","upper-alpha"]]),Re=new Map([["numeric",Ct],["lower-roman",Ot],["upper-roman",St],["lower-alpha",_t],["upper-alpha",wt]]);function cn(e){return e.replace(/\D+/g,"")}function un(e){return typeof e.items[0]=="string"}function dn(e){return!("meta"in e)}function pn(e){return typeof e.items[0]!="string"&&"text"in e.items[0]&&"checked"in e.items[0]&&typeof e.items[0].text=="string"&&typeof e.items[0].checked=="boolean"}function fn(e){const t=[];return un(e)?(e.items.forEach(r=>{t.push({content:r,meta:{},items:[]})}),{style:e.style,meta:{},items:t}):pn(e)?(e.items.forEach(r=>{t.push({content:r.text,meta:{checked:r.checked},items:[]})}),{style:"checklist",meta:{},items:t}):dn(e)?{style:e.style,meta:{},items:e.items}:structuredClone(e)}class X{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return[{icon:Ae,title:"Unordered List",data:{style:"unordered"}},{icon:Be,title:"Ordered List",data:{style:"ordered"}},{icon:Ne,title:"Checklist",data:{style:"checklist"}}]}static get pasteConfig(){return{tags:["OL","UL","LI"]}}static get conversionConfig(){return{export:t=>X.joinRecursive(t),import:(t,r)=>({meta:{},items:[{content:t,meta:{},items:[]}],style:(r==null?void 0:r.defaultStyle)!==void 0?r.defaultStyle:"unordered"})}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(t){var r;this.data.style=t,this.changeTabulatorByStyle();const n=this.list.render();(r=this.listElement)==null||r.replaceWith(n),this.listElement=n}constructor({data:t,config:r,api:n,readOnly:i,block:o}){var a;this.api=n,this.readOnly=i,this.config=r,this.block=o,this.defaultListStyle=((a=this.config)==null?void 0:a.defaultStyle)||"unordered",this.defaultCounterTypes=this.config.counterTypes||Array.from(P.values());const s={style:this.defaultListStyle,meta:{},items:[]};this.data=Object.keys(t).length?fn(t):s,this.listStyle==="ordered"&&this.data.meta.counterType===void 0&&(this.data.meta.counterType="numeric"),this.changeTabulatorByStyle()}static joinRecursive(t){return t.items.map(r=>`${r.content} ${X.joinRecursive(r)}`).join("")}render(){return this.listElement=this.list.render(),this.listElement}save(){return this.data=this.list.save(),this.data}merge(t){this.list.merge(t)}renderSettings(){const t=[{label:this.api.i18n.t("Unordered"),icon:Ae,closeOnActivate:!0,isActive:this.listStyle=="unordered",onActivate:()=>{this.listStyle="unordered"}},{label:this.api.i18n.t("Ordered"),icon:Be,closeOnActivate:!0,isActive:this.listStyle=="ordered",onActivate:()=>{this.listStyle="ordered"}},{label:this.api.i18n.t("Checklist"),icon:Ne,closeOnActivate:!0,isActive:this.listStyle=="checklist",onActivate:()=>{this.listStyle="checklist"}}];if(this.listStyle==="ordered"){const r=ln(o=>this.changeStartWith(Number(o)),{value:String(this.data.meta.start??1),placeholder:"",attributes:{required:"true"},sanitize:o=>cn(o)}),n=[{label:this.api.i18n.t("Start with"),icon:Et,children:{items:[{element:r,type:"html"}]}}],i={label:this.api.i18n.t("Counter type"),icon:Re.get(this.data.meta.counterType),children:{items:[]}};P.forEach((o,a)=>{const s=P.get(a);this.defaultCounterTypes.includes(s)&&i.children.items.push({title:this.api.i18n.t(a),icon:Re.get(s),isActive:this.data.meta.counterType===P.get(a),closeOnActivate:!0,onActivate:()=>{this.changeCounters(P.get(a))}})}),i.children.items.length>1&&n.push(i),t.push({type:"separator"},...n)}return t}onPaste(t){const{tagName:r}=t.detail.data;switch(r){case"OL":this.listStyle="ordered";break;case"UL":case"LI":this.listStyle="unordered"}this.list.onPaste(t)}pasteHandler(t){return this.list.pasteHandler(t)}changeCounters(t){var r;(r=this.list)==null||r.changeCounters(t),this.data.meta.counterType=t}changeStartWith(t){var r;(r=this.list)==null||r.changeStartWith(t),this.data.meta.start=t}changeTabulatorByStyle(){switch(this.listStyle){case"ordered":this.list=new q({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new m(this.readOnly,this.config));break;case"unordered":this.list=new q({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new v(this.readOnly,this.config));break;case"checklist":this.list=new q({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new p(this.readOnly,this.config));break}}}export{X as default};
