<%- include('../partials/header', {
  pageTitle: 'Report Template Generator (RTG)',
  active: 'reportTemplates',
  extraCss: [
    '/css/rtg.css?v=' + Date.now(),
    '/css/gfm-editor.css?v=' + Date.now()
  ]
}) %>

<div class="container py-3">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3 mb-0">Report Template Generator (RTG)</h1>
  </div>

  <div id="rtg-root"></div>
</div>

<!-- RTG bundle mounts itself to #rtg-root. Provide flags before scripts load. -->
<script>
  window.__RTG_FLAGS__ = Object.assign({ richMarkdown: true }, window.__RTG_FLAGS__ || {});
  // Expose PostgREST base if needed by RTG UI (keeps parity with reports-generate)
  window.__POSTGREST_BASE__ = window.__POSTGREST_BASE__ || 'http://localhost:3010';
  // Open CORS and XHR usage is handled globally per user rules.
</script>

<!-- RTG main bundle (ES module) -->
<script type="module" src="/js/rtg-ui.bundle.js?v=<%= Date.now() %>"></script>

<%- include('../partials/footer', {
  extraJs: [
    '/js/gfm-editor.js?v=' + Date.now(),
    '/js/rtg-modal.js?v=' + Date.now()
  ]
}) %>
