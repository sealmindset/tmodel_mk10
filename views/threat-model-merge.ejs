<%- include('partials/header', { 
  pageTitle: 'Merge Threat Models', 
  active: 'threat-models', 
  extraCss: [
    'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css'
  ] 
}) %>

<div class="container mt-4">
  <div id="react-merge-ui-root">
    <div class="text-center p-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading Merge UI...</span>
      </div>
      <p class="mt-3 text-muted">Loading Merge UI...</p>
    </div>
  </div>
</div>

<script>
  // Pass initial data from EJS to the React component
  // This makes the list of all threat models available to the client-side application
  window.__INITIAL_DATA__ = <%- JSON.stringify(pgModels || []) %>;
</script>

<!--
  Load the React bundle. 
  'type="module"' is essential for modern JavaScript modules.
  The 'src' path must match the output of the Vite build process.
-->
<script type="module" src="/merge-ui.bundle.js"></script>

<%- include('partials/footer') %>
